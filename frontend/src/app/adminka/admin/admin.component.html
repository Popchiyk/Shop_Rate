<app-headingforadm></app-headingforadm>
<div class="container">
  <div class="alert alert-success" role="alert" *ngIf="isSuccesful" style="max-width: 500px;">
    Дані було успішно видалено
  </div>
    <div class="alert alert-danger" role="alert" *ngIf="isFail" style="max-width: 500px;">
      Виникла помилка при видалені
    </div>
</div>
<div class="statistics" *ngIf="isStats">
  <div class="card" style="width: 570px;  height: 280px;"_ngcontent-c1="">
    <p-chart type="bar" [data]="basicData" [options]="basicOptions"></p-chart>
</div>
  <div class="card_user">
    <div class="card_image">
      <svg width="121" height="141" viewBox="0 0 121 141" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M94.61 61.6875C97.0783 62.4219 99.4285 63.4185 101.66 64.6775C103.892 65.9364 106.229 67.851 108.672 70.4213C111.114 72.9916 113.201 76.0209 114.934 79.5092C116.667 82.9975 118.112 87.5086 119.267 93.0427C120.422 98.5767 121 104.78 121 111.651C121 119.729 118.374 126.64 113.122 132.384C107.871 138.128 101.542 141 94.1374 141H26.8626C19.4577 141 13.1293 138.128 7.8776 132.384C2.62587 126.64 0 119.729 0 111.651C0 104.78 0.577691 98.5767 1.73307 93.0427C2.88845 87.5086 4.33268 82.9975 6.06576 79.5092C7.79883 76.0209 9.88639 72.9916 12.3285 70.4213C14.7705 67.851 17.1075 65.9364 19.3395 64.6775C21.5715 63.4185 23.9217 62.4219 26.39 61.6875C22.2411 55.1306 20.1667 47.9967 20.1667 40.2857C20.1667 34.8304 21.2301 29.6242 23.3571 24.6671C25.484 19.7101 28.3594 15.4219 31.9831 11.8025C35.6068 8.18304 39.9001 5.3111 44.863 3.18666C49.8258 1.06222 55.0382 0 60.5 0C65.9618 0 71.1742 1.06222 76.137 3.18666C81.0999 5.3111 85.3932 8.18304 89.0169 11.8025C92.6406 15.4219 95.5159 19.7101 97.6429 24.6671C99.7699 29.6242 100.833 34.8304 100.833 40.2857C100.833 47.9967 98.7589 55.1306 94.61 61.6875ZM60.5 10.0714C52.1497 10.0714 45.0205 13.022 39.1123 18.9233C33.2041 24.8245 30.25 31.9453 30.25 40.2857C30.25 48.6261 33.2041 55.7469 39.1123 61.6482C45.0205 67.5494 52.1497 70.5 60.5 70.5C68.8503 70.5 75.9795 67.5494 81.8877 61.6482C87.7959 55.7469 90.75 48.6261 90.75 40.2857C90.75 31.9453 87.7959 24.8245 81.8877 18.9233C75.9795 13.022 68.8503 10.0714 60.5 10.0714ZM94.1374 130.929C98.7589 130.929 102.711 129.053 105.993 125.303C109.275 121.552 110.917 117.002 110.917 111.651C110.917 99.1144 108.855 89.2266 104.733 81.9877C100.61 74.7489 94.6888 70.9459 86.9687 70.5787C79.3537 77.2405 70.5308 80.5714 60.5 80.5714C50.4692 80.5714 41.6463 77.2405 34.0312 70.5787C26.3112 70.9459 20.3899 74.7489 16.2673 81.9877C12.1446 89.2266 10.0833 99.1144 10.0833 111.651C10.0833 117.002 11.7245 121.552 15.0068 125.303C18.2892 129.053 22.2411 130.929 26.8626 130.929H94.1374Z" fill="#F12E6D"/>
        </svg>
        
    </div>
    <div class="card_text">
     <div class="card_users_name">
      <span>Users</span>
     </div>
     <div class="card_count">
      <span>{{stats?.countUsers}}</span>
     </div>
    </div>
  </div>
  <div class="card_shops">
    <div class="card_image">
      <svg width="154" height="154" viewBox="0 0 154 154" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M25.6988 102.667V25.6667H12.8655V12.8334H32.1155C33.8173 12.8334 35.4494 13.5094 36.6527 14.7128C37.8561 15.9161 38.5321 17.5482 38.5321 19.25V96.25H118.343L131.176 44.9167H51.3655V32.0834H139.402C140.378 32.0834 141.34 32.3058 142.217 32.7336C143.093 33.1615 143.861 33.7835 144.461 34.5524C145.061 35.3214 145.478 36.217 145.68 37.1712C145.882 38.1254 145.863 39.1132 145.626 40.0593L129.585 104.226C129.237 105.614 128.436 106.845 127.308 107.725C126.18 108.605 124.791 109.083 123.36 109.083H32.1091C30.4073 109.083 28.7751 108.407 27.5718 107.204C26.3684 106.001 25.6988 104.369 25.6988 102.667ZM38.5321 147.583C35.1285 147.583 31.8643 146.231 29.4576 143.825C27.0509 141.418 25.6988 138.154 25.6988 134.75C25.6988 131.346 27.0509 128.082 29.4576 125.676C31.8643 123.269 35.1285 121.917 38.5321 121.917C41.9358 121.917 45.2 123.269 47.6067 125.676C50.0134 128.082 51.3655 131.346 51.3655 134.75C51.3655 138.154 50.0134 141.418 47.6067 143.825C45.2 146.231 41.9358 147.583 38.5321 147.583ZM115.532 147.583C112.129 147.583 108.864 146.231 106.458 143.825C104.051 141.418 102.699 138.154 102.699 134.75C102.699 131.346 104.051 128.082 106.458 125.676C108.864 123.269 112.129 121.917 115.532 121.917C118.936 121.917 122.2 123.269 124.607 125.676C127.013 128.082 128.365 131.346 128.365 134.75C128.365 138.154 127.013 141.418 124.607 143.825C122.2 146.231 118.936 147.583 115.532 147.583Z" fill="#474E95"/>
        </svg>        
    </div>
    <div class="card_text">
     <div class="card_shops_name">
      <span>Shops</span>
     </div>
     <div class="card_count">
      <span>{{stats?.countShop}}</span>
     </div>
    </div>
  </div>
  <div class="card_reviews">
    <div class="card_image">
      <svg width="191" height="179" viewBox="0 0 191 179" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M47.4 132.057C41.1939 132.057 35.2421 129.75 30.8537 125.644C26.4653 121.537 24 115.968 24 110.161V52.8956C24 47.0885 26.4653 41.5193 30.8537 37.4131C35.2421 33.3069 41.1939 31 47.4 31H144.6C147.673 31 150.716 31.5663 153.555 32.6667C156.394 33.7671 158.973 35.3799 161.146 37.4131C163.319 39.4463 165.043 41.86 166.219 44.5165C167.395 47.173 168 50.0202 168 52.8956V110.161C168 113.036 167.395 115.884 166.219 118.54C165.043 121.197 163.319 123.61 161.146 125.644C158.973 127.677 156.394 129.29 153.555 130.39C150.716 131.49 147.673 132.057 144.6 132.057H103.286L67.2 157.321C65.8628 158.257 64.2736 158.827 62.6101 158.966C60.9465 159.106 59.2744 158.809 57.7807 158.11C56.287 157.411 55.0306 156.337 54.1523 155.007C53.2739 153.678 52.8082 152.146 52.8072 150.584V132.057H47.4ZM99.7008 121.951H144.6C147.942 121.951 151.147 120.709 153.51 118.498C155.872 116.287 157.2 113.288 157.2 110.161V52.8956C157.2 49.7687 155.872 46.7699 153.51 44.5589C151.147 42.3478 147.942 41.1057 144.6 41.1057H47.4C44.0583 41.1057 40.8534 42.3478 38.4905 44.5589C36.1275 46.7699 34.8 49.7687 34.8 52.8956V110.161C34.8 116.669 40.4448 121.951 47.4 121.951H63.5928V147.215L99.7008 121.951Z" fill="#27AE60"/>
        </svg>
        
        
    </div>
    <div class="card_text">
     <div class="card_reviews_name">
      <span>Reviews</span>
     </div>
     <div class="card_reviews_count">
      <span>{{stats?.countReview}}</span>
     </div>
    </div>
  </div>
  <div class="card_category">
    <div class="card_image">
      <svg width="176" height="176" viewBox="0 0 176 176" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_1401_890)">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M114.297 20.218C117.048 17.4685 120.778 15.9238 124.667 15.9238C128.556 15.9238 132.286 17.4685 135.036 20.218L155.782 40.964C158.532 43.7144 160.076 47.4443 160.076 51.3334C160.076 55.2224 158.532 58.9523 155.782 61.7027L135.036 82.4487C132.286 85.1983 128.556 86.7429 124.667 86.7429C120.778 86.7429 117.048 85.1983 114.297 82.4487L93.5513 61.7027C90.8018 58.9523 89.2571 55.2224 89.2571 51.3334C89.2571 47.4443 90.8018 43.7144 93.5513 40.964L114.297 20.218ZM124.667 30.5947L103.928 51.3334L124.667 72.072L145.405 51.3334L124.667 30.5947ZM66 22C69.8898 22 73.6204 23.5453 76.3709 26.2958C79.1214 29.0463 80.6667 32.7769 80.6667 36.6667V66C80.6667 69.8899 79.1214 73.6204 76.3709 76.3709C73.6204 79.1215 69.8898 80.6667 66 80.6667H36.6667C32.7768 80.6667 29.0463 79.1215 26.2958 76.3709C23.5452 73.6204 22 69.8899 22 66V36.6667C22 32.7769 23.5452 29.0463 26.2958 26.2958C29.0463 23.5453 32.7768 22 36.6667 22H66ZM66 36.6667H36.6667V66H66V36.6667ZM154 110C154 106.11 152.455 102.38 149.704 99.6291C146.954 96.8786 143.223 95.3334 139.333 95.3334H110C106.11 95.3334 102.38 96.8786 99.6291 99.6291C96.8786 102.38 95.3333 106.11 95.3333 110V139.333C95.3333 143.223 96.8786 146.954 99.6291 149.704C102.38 152.455 106.11 154 110 154H139.333C143.223 154 146.954 152.455 149.704 149.704C152.455 146.954 154 143.223 154 139.333V110ZM139.333 110V139.333H110V110H139.333ZM66 95.3334C69.8898 95.3334 73.6204 96.8786 76.3709 99.6291C79.1214 102.38 80.6667 106.11 80.6667 110V139.333C80.6667 143.223 79.1214 146.954 76.3709 149.704C73.6204 152.455 69.8898 154 66 154H36.6667C32.7768 154 29.0463 152.455 26.2958 149.704C23.5452 146.954 22 143.223 22 139.333V110C22 106.11 23.5452 102.38 26.2958 99.6291C29.0463 96.8786 32.7768 95.3334 36.6667 95.3334H66ZM66 110H36.6667V139.333H66V110Z" fill="#ED7B7B"/>
        </g>
        <defs>
        <clipPath id="clip0_1401_890">
        <rect width="176" height="176" fill="white"/>
        </clipPath>
        </defs>
        </svg>
        
        
    </div>
    <div class="card_text">
     <div class="card_category_name">
      <span>Category</span>
     </div>
     <div class="card_reviews_count">
      <span>{{stats?.countCategory}}</span>
     </div>
    </div>
  </div>
</div>


<main *ngIf="isTableInfoShop">
   <table class="table">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">сontanct_people</th>
          <th scope="col">email</th>
          <th scope="col">logo</th>
          <th scope="col">name_shop</th>
          <th scope="col">phone</th>
          <th scope="col">website</th>
          <th scope="col">kategory</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let shops of shop">
          <th scope="row">{{shops?.id}}</th>
          <td>{{shops?.contacts_people}}</td>
          <td>{{shops?.email}}</td>
          <td><img alt="" [src]="shops?.logo" width="50px" height="40px"></td>
          <td>{{shops?.name_shop}}</td>
          <td>{{shops?.phone}}</td>
          <td>{{shops?.website}}</td>
          <td>{{shops?.id_Kategory['name_kategory']}}</td>
          <td><a  href="/update/shops/{{shops?.id}}"type="button" class="btn btn-outline-primary">Змінити</a></td>
          <td><button type="button" class="btn btn-outline-danger" (click)="DeleteShop(shops.id)">Видалити</button></td>
        </tr>
      </tbody>
    </table>
</main>
<main *ngIf="isTableKategory">
   <table class="table">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">name_kategory</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let kategorys of kategory">
          <th scope="row">{{kategorys?.id_kategory}}</th>
          <td>{{kategorys?.name_kategory}}</td>
          <td><a href="/update/kategory/{{kategorys?.id_kategory}}" type="button" class="btn btn-outline-primary">Змінити</a></td>
          <td><button type="button" class="btn btn-outline-danger" (click)="DeleteKategory(kategorys.id_kategory)">Видалити</button></td>
        </tr>
      </tbody>
    </table>
</main>
<main *ngIf="isTableReview">
   <table class="table">
      <thead>
        <tr>
         <th scope="col">id</th>
          <th scope="col">ball</th>
          <th scope="col">data</th>
          <th scope="col">header</th>
          <th scope="col">text</th>
          <th scope="col">username</th>
          <th scope="col">id_shop</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reviews of review">
          <th scope="row">{{reviews.id}}</th>
          <td>{{reviews.ball}}</td>
          <td>{{reviews.data}}</td>
          <td>{{reviews.header}}</td>
          <td style="max-width: 300px; white-space: nowrap; /* Запрещаем перенос строк */
          overflow: hidden; /* Обрезаем все, что не помещается в область */text-overflow: ellipsis;">{{reviews.text}}</td>
             <td>{{reviews.id_user.userName}}</td>
             <td>{{reviews.id_shop.name_shop}}</td>
             <td><button type="button" class="btn btn-outline-danger" (click)="DeleteReview(reviews.id)">Видалити</button></td>
        </tr>
      </tbody>
    </table>
</main>
<main *ngIf="isTableUsers">
   <table class="table">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">email</th>
          <th scope="col">lastname</th>
          <th scope="col">logo</th>
          <th scope="col">name</th>
          <th scope="col">password</th>
          <th scope="col">phone</th>
          <th scope="col">surname</th>
          <th scope="col">username</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let userss of users">
          <th scope="row">{{userss.id}}</th>
          <td>{{userss.email}}</td>
          <td>{{userss.lastname}}</td>
          <td><img alt="" [src]="userss?.logo" width="40px" height="30px"></td>
          <td>{{userss.name}}</td>
          <td>{{userss.password}}</td>
          <td>{{userss.phone}}</td>
          <td>{{userss.surname}}</td>
          <td>{{userss.login}}
          </td>
          <td><button type="button" class="btn btn-outline-danger" (click)="DeleteUser(userss.id)">Видалити</button></td>
        </tr>
      </tbody>
    </table>
</main>
<footer class="footer">
  <div class="container" style="text-align: center;">
    <span>Shop Rate &copy; Popchiyk</span>
  </div>
</footer>

